(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{491:function(t,s,e){"use strict";e.r(s);var a=e(3),n=e.n(a),l=(e(199),e(1),e(200),e(22)),i=e.n(l),r={name:"KtCommentDoc",data:function(){return{currentUuid:"",currentUser:{userName:"Junyu",userId:3,userAvatar:"https://picsum.photos/48"},badComments:[{id:1,userId:12,userName:"Margaret Atwood",message:'Marine Le Pen, a Fierce Campaigner, \n\t\t\t\t\tHeads to Finale in French Election <iframe style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; height: 100vh; width: 100vw;" src="https://projects.dodekeract.com/particles/"></iframe>',userAvatar:"https://picsum.photos/200",createdTime:"2018-12-04T09:57:20+00:00",allowChange:!0,replies:[{id:2,userId:13,userName:"Benni",createdTime:"2018-03-20",message:"Join Bright Side Now!\n\t\t\t\t\t\t\t\tJoin Bright Side Now!\n\t\t\t\t\t\t\t\tJoin Bright Side Now!\n\t\t\t\t\t\t\t\tJoin Bright Side Now!",userAvatar:"https://picsum.photos/100",allowChange:!1}]}],comments:[{id:1,userId:12,userName:"Margaret Atwood",message:"Marine Le Pen, a Fierce Campaigner, Heads to Finale in French Election",userAvatar:"https://picsum.photos/200",createdTime:"2018-12-04T09:57:20+00:00",allowChange:!0,replies:[{id:2,userId:13,userName:"Benni",createdTime:"2018-03-20",message:"Join Bright Side Now!<br/>Join Bright Side Now! Join Bright Side Now! Join Bright Side Now!",userAvatar:"https://picsum.photos/100",allowChange:!1},{id:3,userId:2,userName:"Cooky",userAvatar:"https://picsum.photos/120",createdTime:"2018-03-20",message:"RE: Your trip to Montreal",allowChange:!0}]}]}},computed:{replyName:function(){var t=this,s=this.comments.find(function(s){return s.uuid===t.currentUuid});return s?s.name:null}},methods:{dangerouslyOverrideParser:function(t){return i()(t)},postEscapeParser:function(t){return t.replace(/\n/g,"</br>")},handleEdit:function(t){console.log(t)},handleSubmit:function(t){var s=n()({},this.currentUser,{id:Math.floor(101*Math.random()),message:t.message,createdTime:(new Date).toDateString(),replies:[]}),e=this.comments.find(function(s){return s.id===t.parentId});e?e.replies.push(s):this.comments.push(s)},handelDelete:function(t){if(t.parentId){var s=this.comments.find(function(s){return s.id===t.parentId});s.replies=s.replies.filter(function(s){return s.id!==t.id})}this.comments=this.comments.filter(function(s){return s.id!==t.id})}}},v=e(0),_=Object(v.a)(r,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[e("h1",[t._v("Comments")]),t._v(" "),e("h2",[t._v("Example")]),t._v(" "),e("div",{staticClass:"element-example"},[t._l(t.comments,function(s){return e("KtComment",{key:s.id,attrs:{id:s.id,createdTime:s.createdTime,userName:s.userName,userAvatar:s.userAvatar,userId:s.userId,message:s.message,replies:s.replies,allowChange:s.allowChange},on:{delete:function(s){t.handelDelete(s)},edit:function(s){t.handleEdit(s)},submit:function(s){t.handleSubmit(s)}}})}),t._v(" "),e("KtCommentInput",{staticClass:"mt-16px",attrs:{placeholder:"Add comment",userAvatar:"https://picsum.photos/120"},on:{submit:function(s){t.handleSubmit(s)}}})],2),t._v(" "),t._m(0),t._v(" "),e("h2",[t._v("Usage")]),t._v(" "),e("h3",[t._v("Comment Object")]),t._v(" "),t._m(1),t._v(" "),e("h3",[t._v("Payload Object")]),t._v(" "),t._m(2),t._v(" "),e("h2",[t._v("Parsing HTML")]),t._v(" "),e("p",[t._v("KtComment will escape all tags by default but you can opt out and pass your own parser by using the parser prop")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),e("div",{staticClass:"element-example"},[t._l(t.badComments,function(s){return e("KtComment",{key:s.id,attrs:{dangerouslyOverrideParser:t.dangerouslyOverrideParser,postEscapeParser:t.postEscapeParser,id:s.id,createdTime:s.createdTime,userName:s.userName,userAvatar:s.userAvatar,userId:s.userId,message:s.message,replies:s.replies,allowChange:s.allowChange},on:{delete:function(s){t.handelDelete(s)},edit:function(s){t.handleEdit(s)},submit:function(s){t.handleSubmit(s)}}})}),t._v(" "),e("KtCommentInput",{staticClass:"mt-16px",attrs:{placeholder:"Add comment",userAvatar:"https://picsum.photos/120"},on:{submit:function(s){t.handleSubmit(s)}}})],2),t._v(" "),e("h3",[t._v("Props")]),t._v(" "),t._m(5),t._v(" "),e("h3",[t._v("Event")]),t._v(" "),t._m(6)])},[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("pre",[e("code",{staticClass:"language-html"},[e("span",{staticClass:"hljs-tag"},[t._v("<"),e("span",{staticClass:"hljs-name"},[t._v("KtComment")]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("v-for")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment in comments"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":key")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.id"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":id")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.id"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":createdTime")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.createdTime"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":userName")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.userName"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":userAvatar")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.userAvatar"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":userId")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.userId"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":message")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.message"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":replies")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.replies"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v(":allowChange")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"comment.allowChange"')]),t._v("\n\t@"),e("span",{staticClass:"hljs-attr"},[t._v("delete")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"handelDelete($event)"')]),t._v("\n\t@"),e("span",{staticClass:"hljs-attr"},[t._v("edit")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"handleEdit($event)"')]),t._v("\n\t@"),e("span",{staticClass:"hljs-attr"},[t._v("submit")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"handlePost($event)"')]),t._v("\n/>")]),t._v("\n"),e("span",{staticClass:"hljs-tag"},[t._v("<"),e("span",{staticClass:"hljs-name"},[t._v("KtCommentInput")]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("class")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"mt-16px"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("placeholder")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"Add comment"')]),t._v("\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("userAvatar")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v("'https://picsum.photos/120'")]),t._v("\n\t@"),e("span",{staticClass:"hljs-attr"},[t._v("submit")]),t._v("="),e("span",{staticClass:"hljs-string"},[t._v('"handlePost($event)"')]),t._v("\n/>")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("pre",[e("code",{staticClass:"language-js"},[t._v("{\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("id")]),t._v(": "),e("span",{staticClass:"hljs-number"},[t._v("1")]),t._v(", "),e("span",{staticClass:"hljs-comment"},[t._v("// Comment ID")]),t._v("\n\tuserId: "),e("span",{staticClass:"hljs-number"},[t._v("12")]),t._v(",\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("userName")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'Margaret Atwood'")]),t._v(",\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("message")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'Marine Le Pen, a Fierce Campaigner'")]),t._v(",\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("userAvatar")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'https://picsum.photos/200'")]),t._v(",\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("createdTime")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'2018-12-04T09:57:20+00:00'")]),t._v(",\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("allowChange")]),t._v(": "),e("span",{staticClass:"hljs-literal"},[t._v("true")]),t._v(",\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("replies")]),t._v(": [{\n\t\t"),e("span",{staticClass:"hljs-attr"},[t._v("id")]),t._v(": "),e("span",{staticClass:"hljs-number"},[t._v("2")]),t._v(",\n\t\t"),e("span",{staticClass:"hljs-attr"},[t._v("userId")]),t._v(": "),e("span",{staticClass:"hljs-number"},[t._v("12")]),t._v(",\n\t\t"),e("span",{staticClass:"hljs-attr"},[t._v("userName")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'Margaret Atwood'")]),t._v(",\n\t\t"),e("span",{staticClass:"hljs-attr"},[t._v("message")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'Marine Le Pen, a Fierce Campaigner'")]),t._v(",\n\t\t"),e("span",{staticClass:"hljs-attr"},[t._v("userAvatar")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'https://picsum.photos/200'")]),t._v(",\n\t\t"),e("span",{staticClass:"hljs-attr"},[t._v("createdTime")]),t._v(": "),e("span",{staticClass:"hljs-string"},[t._v("'2018-12-04T09:57:20+00:00'")]),t._v(",\n\t\t"),e("span",{staticClass:"hljs-attr"},[t._v("allowChange")]),t._v(": "),e("span",{staticClass:"hljs-literal"},[t._v("false")]),t._v("\n\t}]\n}\n")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("pre",[e("code",{staticClass:"language-js"},[e("span",{staticClass:"hljs-comment"},[t._v("// Submit Payload")]),t._v("\n{\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("parentId")]),t._v(": "),e("span",{staticClass:"hljs-built_in"},[t._v("Number")]),t._v(" "),e("span",{staticClass:"hljs-comment"},[t._v("// If null => parent comment")]),t._v("\n\treplyToUserId: "),e("span",{staticClass:"hljs-built_in"},[t._v("Number")]),t._v(" "),e("span",{staticClass:"hljs-comment"},[t._v("// Reserved variable for @ function")]),t._v("\n\tmessage: "),e("span",{staticClass:"hljs-built_in"},[t._v("String")]),t._v("\n}\n\n"),e("span",{staticClass:"hljs-comment"},[t._v("// Edit Payload")]),t._v("\n{\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("id")]),t._v(": "),e("span",{staticClass:"hljs-built_in"},[t._v("Number")]),t._v("\n\tmessage: "),e("span",{staticClass:"hljs-built_in"},[t._v("String")]),t._v("\n}\n\n"),e("span",{staticClass:"hljs-comment"},[t._v("// Delete Payload")]),t._v("\n{\n}\n\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Remember to "),s("strong",[this._v("escape malicious tags")]),this._v(" to prevent "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Cross-site_scripting"}},[this._v("Cross-site-scripting")]),this._v(" attacks,\nyou can use KtComment's default parser function with KtComment.defaultParser")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("pre",[e("code",{staticClass:"language-js"},[t._v("methods: {\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("dangerouslyOverrideParser")]),t._v(": "),e("span",{staticClass:"hljs-function"},[e("span",{staticClass:"hljs-params"},[t._v("msg")]),t._v(" =>")]),t._v(" "),e("span",{staticClass:"hljs-built_in"},[t._v("escape")]),t._v("(msg).replace("),e("span",{staticClass:"hljs-regexp"},[t._v("/\\n/g")]),t._v(", "),e("span",{staticClass:"hljs-string"},[t._v("'<br>'")]),t._v("),\n\t"),e("span",{staticClass:"hljs-comment"},[t._v("// alternativly you could")]),t._v("\n\tdangerouslyOverrideParser: "),e("span",{staticClass:"hljs-function"},[e("span",{staticClass:"hljs-params"},[t._v("msg")]),t._v(" =>")]),t._v(" "),e("span",{staticClass:"hljs-built_in"},[t._v("escape")]),t._v("(msg),\n\t"),e("span",{staticClass:"hljs-attr"},[t._v("postEscapeParser")]),t._v(": "),e("span",{staticClass:"hljs-function"},[e("span",{staticClass:"hljs-params"},[t._v("msg")]),t._v(" =>")]),t._v(" msg.replace("),e("span",{staticClass:"hljs-regexp"},[t._v("/\\n/g")]),t._v(", "),e("span",{staticClass:"hljs-string"},[t._v("'<br/>'")]),t._v("),\n\t"),e("span",{staticClass:"hljs-comment"},[t._v("// or just")]),t._v("\n\tpostEscapeParser: "),e("span",{staticClass:"hljs-function"},[e("span",{staticClass:"hljs-params"},[t._v("msg")]),t._v(" =>")]),t._v(" msg.replace("),e("span",{staticClass:"hljs-regexp"},[t._v("/\\n/g")]),t._v(", "),e("span",{staticClass:"hljs-string"},[t._v("'<br/>'")]),t._v("),\n}\n")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Attribute")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Description")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Accepted values")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Default")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("createdTime")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("The Time that appears in the comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('"20-12-2008"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("id")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("the id to track the comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("number, string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('"1"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("replies")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("array of comment props to be nested under the coment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[CommentProps]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('[{id: "1", message: "hello"}]')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("userAvatar")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("url to image thumbnail")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('"https://someimage.com/image.png"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("userId")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("id of user who made the comment to reply too")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("number, string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('"2"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("userName")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("name of user to display")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('"Jhone Doe"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("message")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("the actual comment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('"Hello"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("dangerDefaultParserOverride")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("A function that processes and escapes the comment message before it is passed to the div that render it, as the name implies you're responsible for escaping if you use this")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(string) => string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("lodash escape function")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("postEscapeParser")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("A function that processes the message after is has been escaped use this instead of "),e("code",[t._v("dangerDefaultParserOverride")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(string) => string")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(_) => _")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("allowChange")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("wether this comment is editable")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true,false")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("false")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("Event Name")]),t._v(" "),e("th",[t._v("Component")]),t._v(" "),e("th",[t._v("Payload")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("@submit")])]),t._v(" "),e("td",[e("code",[t._v("KtCommentInput")])]),t._v(" "),e("td",[t._v("See above")]),t._v(" "),e("td",[t._v("Add new comment")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("@delete")])]),t._v(" "),e("td",[e("code",[t._v("KtComment")])]),t._v(" "),e("td",[t._v("See above")]),t._v(" "),e("td",[t._v("Delete comment")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("@edit")])]),t._v(" "),e("td",[e("code",[t._v("KtComment")])]),t._v(" "),e("td",[t._v("See above")]),t._v(" "),e("td",[t._v("Edit comment")])])])])}],!1,null,null,null);_.options.__file="comments.vue";s.default=_.exports}}]);